(()=>{"use strict";addEventListener("message",({data:n})=>{const i=b(n);postMessage(i)});const b=function(n){const i=n.k,r=n.walkable,t=n.tileList;console.time("Time Spend W");const c=[...Array(t.length).keys()];const a=w(c,i).map((o,g)=>{const p=w(o,2).reduce((h,e)=>{let s;return s=D(t[e[0]].row,t[e[1]].row,t[e[0]].col,t[e[1]].col,r),h.total+=s,(-1===h.minimumDistance||h.minimumDistance>s)&&(h.minimumDistance=s),h},{total:0,minimumDistance:-1,set:[]});return p.set=o,p}),l=a.reduce((o,g)=>g.minimumDistance>o?g.minimumDistance:o,0),m=a.filter(o=>o.minimumDistance===l);return m.sort((o,g)=>g.total-o.total),console.timeEnd("Time Spend W"),m[0].set.map(o=>t[o])},D=function(n,i,r,t,c){const f=c,u=n+"."+r,a=i+"."+t,l=[];l.push(u);const m=new Map;for(m.set(u,"");l.length>0;){const d=l.shift(),p=d.split(".").map(s=>Number(s));if(k(p[0],p[1]).forEach(s=>{!m.has(s)&&f.has(s)&&(l.push(s),m.set(s,d))}),d===a)break}return function(d,p,h){let e=p;const s=[];for(;e!==d;)s.push(e),e=h.get(e);return s.length}(u,a,m)},k=function(n,i){const r=[[[0,-1],[1,0],[0,1],[-1,1],[-1,0],[-1,-1]],[[1,-1],[1,0],[1,1],[0,1],[-1,0],[0,-1]]],t=1&n,c=[];return r[t].forEach((f,u)=>{const a=r[t][u];c.push(n+a[1]+"."+(i+a[0]))}),c},w=function(n,i,r=[]){return 0==i?[r]:n.flatMap((t,c)=>w(n.slice(c+1),i-1,[...r,t]))}})();